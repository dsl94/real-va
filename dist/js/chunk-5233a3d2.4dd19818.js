(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5233a3d2"],{"35f3":function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",[o("v-card-title",[e._v("Flights")]),o("v-data-table",{attrs:{headers:e.headers,items:e.flights,"items-per-page":10},scopedSlots:e._u([{key:"item.fuelSpent",fn:function(t){var a=t.item;return[o("td",[e._v(e._s(a.fuelSpent.toFixed(2))+" kg")])]}},{key:"item.actions",fn:function(t){var a=t.item;return["true"==e.all?o("td",[e._v(e._s(a.user))]):o("td",[o("v-icon",{attrs:{color:"red"},on:{click:function(t){return e.deleteFlight(a.id)}}},[e._v("delete")])],1)]}}])})],1)],1)},l=[],n=o("bc3a"),r=o.n(n),i=o("5a50"),s={name:"FlightsComponent",data:function(){return{flights:[],headers:[{text:"Departure",value:"departure"},{text:"Arrival",value:"arrival"},{text:"Departure time",value:"startTime"},{text:"Arrival time",value:"endTime"},{text:"Length",value:"length"},{text:"Aircraft",value:"aircraft"},{text:"Fuel spent",value:"fuelSpent"},{text:"Fuel cost $",value:"fuelCost"},{text:"Earning $",value:"earning"},{text:"Profit $",value:"profit"},{text:"",value:"actions"}]}},props:["username","all"],methods:{loadFlights:function(){var e=this,t="flight/all/"+this.username;void 0!==this.username&&"undefined"!==this.username&&null!==this.username&&""!=this.username||(t="flight/all"),r.a.get(i["a"].API_BASE+t).then((function(t){e.flights=t.data}))},deleteFlight:function(e){var t=this;confirm("Are you sure you want to delete")&&r.a.delete(i["a"].API_BASE+"flight/"+e).then((function(e){t.loadFlights()}))}},beforeMount:function(){this.loadFlights()}},c=s,u=o("2877"),d=o("6544"),f=o.n(d),v=o("b0af"),m=o("99d9"),g=o("8fea"),b=o("132d"),h=Object(u["a"])(c,a,l,!1,null,null,null),p=h.exports;f()(h,{VCard:v["a"],VCardTitle:m["c"],VDataTable:g["a"],VIcon:b["a"]})},4334:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return P}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("ProfileComponent")],1)},l=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app"},[o("v-row",[o("v-col",{attrs:{cols:"12",md:"12"}},[o("v-card",[o("v-card-title",[e._v("Pilot profile")]),o("v-card-text",[o("v-form",{ref:"form"},[o("v-row",[o("v-col",{attrs:{colls:"12",md:"4"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Full name",readonly:""},model:{value:e.user.fullName,callback:function(t){e.$set(e.user,"fullName",t)},expression:"user.fullName"}})],1),o("v-col",{attrs:{colls:"12",md:"4"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"E-mail",readonly:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),o("v-col",{attrs:{colls:"12",md:"4"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Username",readonly:""},model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName",t)},expression:"user.userName"}})],1),o("v-col",{attrs:{colls:"12",md:"4"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Secret code",readonly:""},model:{value:e.user.secretCode,callback:function(t){e.$set(e.user,"secretCode",t)},expression:"user.secretCode"}})],1),o("v-col",{attrs:{colls:"12",md:"4"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Airline",readonly:""},model:{value:e.user.airline,callback:function(t){e.$set(e.user,"airline",t)},expression:"user.airline"}})],1),o("v-col",{attrs:{colls:"12",md:"4"}},[o("v-text-field",{staticClass:"icao-input",attrs:{outlined:"",rounded:"",label:"Location, to change it enter new icao code and press Enter"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changeLocation(t)}},model:{value:e.user.location,callback:function(t){e.$set(e.user,"location",t)},expression:"user.location"}})],1)],1)],1)],1)],1)],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",md:"12"}},[o("v-card",[o("v-card-title",[e._v("Pilot booking")]),o("v-card-text",[e.$store.getters.canBook?o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}}),o("v-col",{attrs:{cols:"12",md:"4"}},[e._v("No booked flight, go to booking and book")]),o("v-col",{attrs:{cols:"12",md:"4"}})],1):o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Departure",readonly:""},model:{value:e.booking.departure,callback:function(t){e.$set(e.booking,"departure",t)},expression:"booking.departure"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Arrival",readonly:""},model:{value:e.booking.arrival,callback:function(t){e.$set(e.booking,"arrival",t)},expression:"booking.arrival"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Flight number",readonly:""},model:{value:e.booking.flightNumber,callback:function(t){e.$set(e.booking,"flightNumber",t)},expression:"booking.flightNumber"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Aircraft",readonly:""},model:{value:e.booking.aircraft,callback:function(t){e.$set(e.booking,"aircraft",t)},expression:"booking.aircraft"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Number of passengers",readonly:""},model:{value:e.booking.passengers,callback:function(t){e.$set(e.booking,"passengers",t)},expression:"booking.passengers"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{outlined:"",rounded:"",label:"Cargo in kilograms",readonly:""},model:{value:e.booking.cargo,callback:function(t){e.$set(e.booking,"cargo",t)},expression:"booking.cargo"}})],1),o("v-col",{attrs:{cols:"12",md:"12"}},[o("v-btn",{attrs:{rounded:"",block:"",color:"warning"},on:{click:e.cancelBooking}},[e._v("Cancel booking")])],1)],1)],1)],1)],1)],1),o("br"),o("FlightsComponent",{attrs:{username:e.$store.getters.getUsername,all:"false"}})],1)},r=[],i=o("5a50"),s=o("bc3a"),c=o.n(s),u=o("35f3"),d={name:"ProfileComponent",data:function(){return{user:{fullName:"",email:"",userName:"",secretCode:"",airline:"",location:""},booking:{departure:"",arrival:"",flightNumber:"",passengers:0,cargo:0,user:"",aircraft:""}}},methods:{load:function(){var e=this;this.loadProfile(),c.a.get(i["a"].API_BASE+"booking/user/all").then((function(t){e.booking=t.data}))},loadProfile:function(){var e=this;c.a.get(i["a"].API_BASE+"user/profile").then((function(t){e.user=t.data}))},cancelBooking:function(){var e=this;c.a.delete(i["a"].API_BASE+"booking/user/booking/cancel").then((function(t){e.$store.dispatch("setCanBook",0),e.load()}))},changeLocation:function(){var e=this;c.a.put(i["a"].API_BASE+"user/profile/"+this.user.location).then((function(t){e.loadProfile(),e.$store.dispatch("setSnackbar",{showing:!0,text:"Location changed",color:"success"})})).catch((function(t){return e.$store.dispatch("setSnackbar",{showing:!0,text:t.response.data.message,color:"error"})}))}},beforeMount:function(){this.load()},components:{FlightsComponent:u["a"]}},f=d,v=(o("9712"),o("2877")),m=o("6544"),g=o.n(m),b=o("8336"),h=o("b0af"),p=o("99d9"),k=o("62ad"),x=o("4bd4"),C=o("0fd9"),_=o("8654"),$=Object(v["a"])(f,n,r,!1,null,null,null),y=$.exports;g()($,{VBtn:b["a"],VCard:h["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:k["a"],VForm:x["a"],VRow:C["a"],VTextField:_["a"]});var A={name:"Profile",components:{ProfileComponent:y}},w=A,F=Object(v["a"])(w,a,l,!1,null,null,null),P=F.exports},9712:function(e,t,o){"use strict";var a=o("f695"),l=o.n(a);l.a},f695:function(e,t,o){}}]);
//# sourceMappingURL=chunk-5233a3d2.4dd19818.js.map